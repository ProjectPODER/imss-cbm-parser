# IMSS CBM/CBMEI Parser

Script for parsing files containing data from IMSS medicine and product classifications.

### CBM

    node index.js -t cbm -f CBM-layout.txt

Expects parameters for **type** (-t) and a path to a local text file containing CBM data. Both the original PDF file and a preprocessed text file are provided. Outputs JSON objects, one per line, of the parsed data. To merge with CBMEI, run this command with **> cbm.json** to save the data first.

Original CBM.pdf file should be preprocessed using pdftotext:

    pdftotext -layout CBM.pdf CBM-layout.txt

### CBMEI

    node index.js -t cbmei -f CNI_CSG_VP-ACT_20_11_2020.csv [-c cbm.json]

Expects parameters for **type** (-t) and a path to a local CSV file containing rows with CBMEI data. A preprocessed CSV file is provided. Outputs JSON objects, one per line, of the parsed data. Optional parameter **cbm** (-c) should be a path to the file generated by parsing the CBM-layout-txt file. If this file is present, objects with matching *clave_cbm* fields will be merged.

### Data cleanup

// TODO...
